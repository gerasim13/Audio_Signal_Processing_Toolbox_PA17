// tslint:disable-next-line:max-line-length
export const worker = `!function(t){function r(n){if(e[n])return e[n].exports;var a=e[n]={i:n,l:!1,exports:{}};return t[n].call(a.exports,a,a.exports,r),a.l=!0,a.exports}var e={};r.m=t,r.c=e,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:n})},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,r){return Object.prototype.hasOwnProperty.call(t,r)},r.p="",r(r.s=1)}([function(t,r,e){"use strict";e.d(r,"a",function(){return u});var n=e(3),a=e(4),o=e(5),u=function(t,r){for(var e=[],u=.9;e.length<30&&u>=.3;)e=Object(a.a)(t,u,r),u-=.05;var s=Object(n.a)(e),c=Object(o.a)(s,r);return c.sort(function(t,r){return r.peaks.length-t.peaks.length}),c}},function(t,r,e){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=e(2),a=e(6);addEventListener("message",function(t){var r=t.data;try{if("analyze"===r.method){var e=r.id,o=r.params,u=o.channelData,s=o.sampleRate,c=Object(n.a)(u,s);postMessage({error:null,id:e,result:{tempo:c}})}else{if("guess"!==r.method)throw new Error('The given method "'+r.method+'" is not supported');var i=r.id,f=r.params,p=f.channelData,l=f.sampleRate,v=Object(a.a)(p,l),d=v.bpm,h=v.offset;postMessage({error:null,id:i,result:{bpm:d,offset:h}})}}catch(t){postMessage({error:{message:t.message},id:r.id,result:null})}})},function(t,r,e){"use strict";e.d(r,"a",function(){return a});var n=e(0),a=function(t,r){return Object(n.a)(t,r)[0].tempo}},function(t,r,e){"use strict";e.d(r,"a",function(){return n});var n=function(t){var r=[];return t.forEach(function(e,n){for(var a=Math.min(t.length-n,10),o=1;o<a;o+=1)!function(a){var o=t[n+a]-e;r.some(function(t){return t.interval===o&&(t.peaks.push(e),!0)})||r.push({interval:o,peaks:[e]})}(o)}),r}},function(t,r,e){"use strict";e.d(r,"a",function(){return n});var n=function(t,r,e){for(var n=[],a=t.length,o=0;o<a;o+=1)t[o]>r&&(n.push(o),o+=e/4-1);return n}},function(t,r,e){"use strict";function n(t){if(Array.isArray(t)){for(var r=0,e=Array(t.length);r<t.length;r++)e[r]=t[r];return e}return Array.from(t)}e.d(r,"a",function(){return a});var a=function(t,r){var e=[];return t.forEach(function(t){for(var a=60/(t.interval/r);a<90;)a*=2;for(;a>180;)a/=2;e.some(function(r){return r.tempo===a&&(r.peaks=[].concat(n(r.peaks),n(t.peaks)),!0)})||e.push({peaks:t.peaks,tempo:a})}),e}},function(t,r,e){"use strict";e.d(r,"a",function(){return a});var n=e(0),a=function(t,r){var e=Object(n.a)(t,r),a=e[0],o=a.peaks,u=a.tempo,s=Math.round(u),c=60/s;o.sort(function(t,r){return t-r});for(var i=o[0]/r;i>c;)i-=c;return{bpm:s,offset:i}}}]);`;
